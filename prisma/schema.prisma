generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id        String      @id @default(auto()) @map("_id") @db.ObjectId
  email     String   @unique
  password  String
  activeRoles     ShoppingListUsers[]
}

model ShoppingList {
  id        String      @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  items     Items[]
  users     ShoppingListUsers[]
}

model ShoppingListUsers {
  id        String      @id @default(auto()) @map("_id") @db.ObjectId
  userId    String      @db.ObjectId
  shoppingListId    String  @db.ObjectId
  role      String
  shoppingList      ShoppingList     @relation(fields: [shoppingListId], references: [id], onDelete: Cascade)
  user              User             @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Items {
  id        String      @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  solved   Boolean
  shoppingListId    String    @db.ObjectId
  shoppingList      ShoppingList     @relation(fields: [shoppingListId], references: [id], onDelete: Cascade)
}